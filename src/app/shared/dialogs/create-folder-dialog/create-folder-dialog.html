<app-base-dialog
  [(visible)]="visible"
  title="Nouveau dossier"
  subtitle="Créez un nouveau dossier pour organiser vos fichiers"
  icon="fa-duotone fa-solid fa-folder-plus"
  iconColor="orange"
  width="420px"
  submitLabel="Créer le dossier"
  [canSubmit]="isValid()"
  [loading]="isSubmitting()"
  (submitted)="onSubmit()"
  (closed)="close()">

  <div class="form-field">
    <label for="folderName" class="field-label">
      Nom du dossier <span class="required">*</span>
    </label>
    <input
      id="folderName"
      type="text"
      pInputText
      pSize="small"
      placeholder="Ex: Documents clients"
      [ngModel]="folderName()"
      (ngModelChange)="folderName.set($event)"
      (keyup.enter)="onSubmit()"
      class="w-full" />
  </div>

  <div class="form-field">
    <label class="field-label">Couleur</label>
    <div class="color-picker">
      @for (color of colors; track color.value) {
        <button
          type="button"
          class="color-swatch"
          [class.selected]="isColorSelected(color.value)"
          [style.background-color]="color.value"
          [title]="color.name"
          (click)="selectColor(color.value)">
          @if (isColorSelected(color.value)) {
            <i class="fa-duotone fa-solid fa-check"></i>
          }
        </button>
      }
    </div>
  </div>

</app-base-dialog>
