<app-base-dialog
  [(visible)]="visible"
  title="Importer depuis une URL"
  subtitle="Importez un fichier directement depuis une adresse web"
  icon="fa-duotone fa-solid fa-link"
  iconColor="cyan"
  width="480px"
  submitLabel="Importer"
  [canSubmit]="isValid()"
  [loading]="isImporting()"
  (submitted)="onSubmit()"
  (closed)="close()">

  <div class="form-field">
    <label for="fileUrl" class="field-label">
      URL du fichier <span class="required">*</span>
    </label>
    <input
      id="fileUrl"
      type="url"
      pInputText
      pSize="small"
      placeholder="https://exemple.com/fichier.pdf"
      [ngModel]="fileUrl()"
      (ngModelChange)="fileUrl.set($event)"
      class="w-full" />
  </div>

  @if (detectedFileName()) {
    <div class="detected-info">
      <i class="fa-duotone fa-solid fa-circle-check"></i>
      <span>Fichier détecté : <strong>{{ detectedFileName() }}</strong></span>
    </div>
  }

  <div class="form-field">
    <label for="fileName" class="field-label">
      Nom du fichier
      <span class="field-hint">(optionnel, remplace le nom détecté)</span>
    </label>
    <input
      id="fileName"
      type="text"
      pInputText
      pSize="small"
      [placeholder]="detectedFileName() || 'Nom personnalisé'"
      [ngModel]="fileName()"
      (ngModelChange)="fileName.set($event)"
      class="w-full" />
  </div>

</app-base-dialog>
