<app-base-dialog
  [(visible)]="visible"
  title="Nouvelle équipe"
  subtitle="Créez une équipe et invitez des collaborateurs"
  icon="fa-duotone fa-solid fa-users"
  iconColor="blue"
  width="520px"
  [submitLabel]="submitLabel()"
  [canSubmit]="isValid()"
  [loading]="isSubmitting()"
  (submitted)="onSubmit()"
  (closed)="close()">

  <div class="form-field">
    <label for="teamName" class="field-label">
      Nom de l'équipe <span class="required">*</span>
    </label>
    <input
      id="teamName"
      type="text"
      pInputText
      pSize="small"
      placeholder="Ex: Équipe Marketing"
      [ngModel]="teamName()"
      (ngModelChange)="teamName.set($event)"
      class="w-full" />
  </div>

  <div class="form-field">
    <label for="teamDescription" class="field-label">Description</label>
    <textarea
      id="teamDescription"
      pTextarea
      pSize="small"
      placeholder="Décrivez le rôle de cette équipe..."
      [ngModel]="teamDescription()"
      (ngModelChange)="teamDescription.set($event)"
      [rows]="2"
      class="w-full">
    </textarea>
  </div>

  <div class="form-field">
    <label class="field-label">Couleur</label>
    <div class="color-picker">
      @for (color of colors; track color.value) {
        <button
          type="button"
          class="color-swatch"
          [class.selected]="isColorSelected(color.value)"
          [style.background-color]="color.value"
          [title]="color.name"
          (click)="selectColor(color.value)">
          @if (isColorSelected(color.value)) {
            <i class="fa-duotone fa-solid fa-check"></i>
          }
        </button>
      }
    </div>
  </div>

  <p-divider />

  <div class="members-section">
    <div class="section-header">
      <span class="section-title">
        <i class="fa-duotone fa-solid fa-user-plus"></i>
        Inviter des membres
      </span>
      <span class="section-hint">Optionnel</span>
    </div>

    <app-email-list-input [(members)]="members" />
  </div>

</app-base-dialog>
